(()=>{"use strict";var e,t={6204:(e,t,i)=>{var r,s=i(5893),n=i(7294),a=i(3935),o=i(9669),c=i.n(o),d=i(9448),l=i.n(d);!function(e){e.Main="/",e.Page404="/404",e.Cart="/cart"}(r||(r={}));const v="/cartItems",j={1233:{id:"1233",name:"first item",price:10,quantity:1},1234:{id:"1234",name:"second item",price:2,quantity:0},1235:{id:"1235",name:"third item",price:7,quantity:4},1236:{id:"1236",name:"fourth item",price:20,quantity:2}};Array.from(new Map(Object.entries(j)).values()),new Map(Object.entries(j)),new Map,new(l())(c(),{delayResponse:1e3}).onGet(v).reply(200,j);var u=i(3594),h=i(5857),m=i(8500),b=i(797),g=i(8423),O=i(573);const p=(0,g.PH)("SHOW_LOADER"),x=(0,g.PH)("HIDE_LOADER"),y=(0,g.Lq)({},{});y.on(p,((e,t)=>Object.assign(Object.assign({},e),{[t]:!0}))),y.on(x,((e,t)=>Object.assign(Object.assign({},e),{[t]:!1})));const f=e=>e.loader,C=(0,g.PH)("GET_CART_ITEMS"),P=(0,g.PH)("PUT_CART_ITEMS"),I=(0,g.PH)("ADD_CART_ITEM"),M=(0,g.PH)("UPDATE_CART_ITEM"),w=(0,g.PH)("DELETE_CART_ITEM"),E=[C,P,I,w,M],H=(0,g.Lq)({},{});H.on(P,((e,t)=>Object.assign(Object.assign({},e),{cartItems:new Map(Object.entries(t))}))),H.on(I,((e,t)=>{var i;return Object.assign(Object.assign({},e),{cartItems:new Map([[t.id,t],...(null===(i=e.cartItems)||void 0===i?void 0:i.entries())||[]])})})),H.on(M,((e,t)=>{var i,r;const s=null===(i=e.cartItems)||void 0===i?void 0:i.get(t.id);if(!s)return e;const n=null===(r=e.cartItems)||void 0===r?void 0:r.set(t.id,Object.assign(Object.assign({},s),t));return Object.assign(Object.assign({},e),{cartItems:n})})),H.on(w,((e,t)=>{var i;return null===(i=e.cartItems)||void 0===i||i.delete(t),Object.assign(Object.assign({},e),{cartItems:e.cartItems})}));var T=i(4857);const _=()=>c().get(v);var S=i(5108);function*k(e){try{yield(0,T.gz)(p(e.type));const t=yield(0,T.RE)(_);yield(0,T.gz)(P(t.data))}catch(e){S.error("getCartItemsSaga",e)}finally{yield(0,T.gz)(x(e.type))}}function*q(){yield(0,T.Fm)(C,k)}const A=(0,O.P1)((e=>e.cart),(e=>{var t;return Array.from((null===(t=e.cartItems)||void 0===t?void 0:t.values())||[])})),N=(0,O.P1)(A,(e=>e.reduce(((e,t)=>e+t.quantity*t.price),0))),D=(0,h.UY)({loader:y,cart:H}),G=(0,b.ZP)(),V=(0,h.MT)(D,(0,m.Uo)((0,h.md)(G)));G.run((function*(){yield(0,T.$6)([q()])})),(0,g.I6)([p,x,...E],V);var L=i(5108);class R extends n.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){this.setState({hasError:!0}),L.error(e,t)}render(){const{children:e}=this.props,{hasError:t}=this.state;return t?(0,s.jsx)("div",{children:"Error page :("},void 0):e}}var Y=i(6617),B=i(71);const Z=e=>{var{text:t,icon:i,onClick:r,children:n}=e,a=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(i[r[s]]=e[r[s]])}return i}(e,["text","icon","onClick","children"]);return(0,s.jsxs)("button",Object.assign({className:"b_aG7bzo5aM2mIR7O3BA",onClick:r},a,{children:[i&&(0,s.jsx)("div",Object.assign({className:"J9wTKytjOWG73QMoN5WP"},{children:i}),void 0),n||t&&(0,s.jsx)("span",{children:t},void 0)]}),void 0)},W=()=>(0,s.jsx)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},{children:(0,s.jsx)("rect",{x:"5",y:"11",width:"14",height:"2",rx:"1"},void 0)}),void 0),z=()=>(0,s.jsx)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},{children:(0,s.jsx)("path",{d:"M19 12C19 12.5523 18.5523 13 18 13H15C13.8954 13 13 13.8954 13 15V18C13 18.5523 12.5523 19 12 19V19C11.4477 19 11 18.5523 11 18V15C11 13.8954 10.1046 13 9 13H6C5.44772 13 5 12.5523 5 12V12C5 11.4477 5.44772 11 6 11H9C10.1046 11 11 10.1046 11 9V6C11 5.44772 11.4477 5 12 5V5C12.5523 5 13 5.44772 13 6V9C13 10.1046 13.8954 11 15 11H18C18.5523 11 19 11.4477 19 12V12Z"},void 0)}),void 0),J=()=>(0,s.jsx)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},{children:(0,s.jsx)("path",{d:"M6 19C6 20.1 6.9 21 8 21H16C17.1 21 18 20.1 18 19V9C18 7.9 17.1 7 16 7H8C6.9 7 6 7.9 6 9V19ZM18 4H15.5L14.79 3.29C14.61 3.11 14.35 3 14.09 3H9.91C9.65 3 9.39 3.11 9.21 3.29L8.5 4H6C5.45 4 5 4.45 5 5C5 5.55 5.45 6 6 6H18C18.55 6 19 5.55 19 5C19 4.45 18.55 4 18 4Z"},void 0)}),void 0),U=({cartItem:e})=>{const t=(0,n.useCallback)((t=>()=>{const i=e.quantity+t;i<0||M({id:e.id,quantity:i})}),[e.id,e.quantity]);return(0,s.jsxs)("div",Object.assign({className:"LiY2srYY8LT5PTOuiSpQ"},{children:[(0,s.jsx)("div",Object.assign({className:"F_2BBMOrZJWQSYFDkyvv"},{children:e.name}),void 0),(0,s.jsxs)("div",{children:[e.price," у.е."]},void 0),(0,s.jsxs)("div",Object.assign({className:"lNEGLk50IGXP_EPSHHnw"},{children:[(0,s.jsx)(Z,{icon:(0,s.jsx)(W,{},void 0),onClick:t(-1),"aria-label":`${e.name} decrease quantity`},void 0),e.quantity,(0,s.jsx)(Z,{icon:(0,s.jsx)(z,{},void 0),onClick:t(1),"aria-label":`${e.name} increase quantity`},void 0)]}),void 0),(0,s.jsx)(Z,{icon:(0,s.jsx)(J,{},void 0),onClick:()=>w(e.id)},void 0)]}),void 0)},F=({cartItems:e})=>(0,s.jsx)("div",Object.assign({className:"apgiqPcztkVGJK1EvkYe"},{children:e.map((e=>(0,s.jsx)(U,{cartItem:e},e.id)))}),void 0),Q=()=>{const e=(0,u.v9)((t=C,(0,O.P1)(f,(e=>e[t]||!1))));var t;const i=(0,u.v9)(A);return(0,n.useEffect)((()=>{C()}),[]),e?(0,s.jsx)("div",{children:"Loading..."},void 0):i.length?(0,s.jsx)(F,{cartItems:i},void 0):(0,s.jsx)("div",{children:"Cart is empty"},void 0)},X=({onMadeOrder:e})=>{const t=(0,u.v9)(N);return(0,s.jsxs)("div",Object.assign({className:"QHMZGvGjcq32622tJ5gw"},{children:[(0,s.jsx)("h2",Object.assign({className:"YSNIQDddbgAhHnRYi0Gc"},{children:"Summary"}),void 0),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",Object.assign({"data-testid":"summary"},{children:t}),void 0)," у.е."]},void 0),(0,s.jsx)(Z,{"data-testid":"make-order-button",text:"make order",onClick:e},void 0)]}),void 0)};var K=i(3639);var $;!function(e){e.Name="name",e.Price="price"}($||($={}));const ee=()=>(0,s.jsxs)("div",Object.assign({className:"VsshBvmtKsPjP9lsbHYJ"},{children:[(0,s.jsx)("h2",Object.assign({className:"najt5GbyYXmOee0gSiJ4"},{children:"Add cart item"}),void 0),(0,s.jsxs)("form",Object.assign({className:"CtvZaOcmO7XdU_cXbut5",onSubmit:e=>{e.preventDefault();const t=Array.from(Object.values($)).reduce(((t,i)=>(t[i]=e.target.children[i].value,t)),{});I(Object.assign({id:(0,K.Z)(),quantity:1},t))}},{children:[(0,s.jsx)("input",{name:$.Name,placeholder:"label",required:!0},void 0),(0,s.jsx)("input",{name:$.Price,type:"number",placeholder:"price",required:!0},void 0),(0,s.jsx)(Z,{type:"submit",text:"add",icon:(0,s.jsx)(z,{},void 0)},void 0)]}),void 0)]}),void 0),te=()=>(0,s.jsxs)("main",Object.assign({className:"M01fGelMBgaujADOYWoU"},{children:[(0,s.jsx)(ee,{},void 0),(0,s.jsx)(Q,{},void 0),(0,s.jsx)(X,{onMadeOrder:()=>{}},void 0)]}),void 0),ie=(0,B.lX)(),re=()=>(0,s.jsx)(Y.F0,Object.assign({history:ie},{children:(0,s.jsx)(n.Suspense,Object.assign({fallback:null},{children:(0,s.jsxs)(Y.rs,{children:[(0,s.jsx)(Y.AW,Object.assign({path:r.Cart,exact:!0},{children:(0,s.jsx)(te,{},void 0)}),void 0),(0,s.jsx)(Y.AW,Object.assign({path:r.Page404,exact:!0},{children:"Page 404"}),void 0),(0,s.jsx)(Y.l_,{to:r.Cart,from:r.Main},void 0),(0,s.jsx)(Y.l_,{to:r.Page404},void 0)]},void 0)}),void 0)}),void 0);a.render((0,s.jsx)(n.StrictMode,{children:(0,s.jsx)((()=>(0,s.jsx)(R,{children:(0,s.jsx)(u.zt,Object.assign({store:V},{children:(0,s.jsx)(re,{},void 0)}),void 0)},void 0)),{},void 0)},void 0),document.getElementById("root"))}},i={};function r(e){var s=i[e];if(void 0!==s)return s.exports;var n=i[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,i,s,n)=>{if(!i){var a=1/0;for(l=0;l<e.length;l++){for(var[i,s,n]=e[l],o=!0,c=0;c<i.length;c++)(!1&n||a>=n)&&Object.keys(r.O).every((e=>r.O[e](i[c])))?i.splice(c--,1):(o=!1,n<a&&(a=n));if(o){e.splice(l--,1);var d=s();void 0!==d&&(t=d)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[i,s,n]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,i)=>{var s,n,[a,o,c]=i,d=0;if(a.some((t=>0!==e[t]))){for(s in o)r.o(o,s)&&(r.m[s]=o[s]);if(c)var l=c(r)}for(t&&t(i);d<a.length;d++)n=a[d],r.o(e,n)&&e[n]&&e[n][0](),e[a[d]]=0;return r.O(l)},i=self.webpackChunkshoppingcart=self.webpackChunkshoppingcart||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var s=r.O(void 0,[981],(()=>r(6204)));s=r.O(s)})();